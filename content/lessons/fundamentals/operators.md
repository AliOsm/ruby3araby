# العمليات الحسابية والمقارنة

الآن بعد أن تعلمنا المتغيرات وأنواع البيانات، حان الوقت لنتعلم كيف نُجري العمليات عليها! في هذا الدرس سنتعرف على **العمليات الحسابية** (Arithmetic Operators) و**عمليات المقارنة** (Comparison Operators).

## العمليات الحسابية (Arithmetic Operators)

روبي توفر جميع العمليات الحسابية الأساسية التي تحتاجها:

### الجمع والطرح

```ruby
a = 10
b = 3

puts a + b  # الجمع
puts a - b  # الطرح
```

الناتج:
```
13
7
```

### الضرب والقسمة

```ruby
x = 15
y = 4

puts x * y  # الضرب
puts x / y  # القسمة (صحيحة)
```

الناتج:
```
60
3
```

> **ملاحظة مهمة:** عند قسمة عددين صحيحين، النتيجة تكون عدداً صحيحاً (بدون كسور). للحصول على نتيجة عشرية، استخدم أعداداً عشرية.

### القسمة العشرية

```ruby
puts 15 / 4      # قسمة صحيحة = 3
puts 15.0 / 4    # قسمة عشرية = 3.75
puts 15 / 4.0    # قسمة عشرية = 3.75
puts 15.0 / 4.0  # قسمة عشرية = 3.75
```

الناتج:
```
3
3.75
3.75
3.75
```

### باقي القسمة (Modulo)

عامل `%` يُعطيك **باقي القسمة**. هذا مفيد جداً لمعرفة هل العدد زوجي أم فردي، أو للعمل مع الدورات:

```ruby
puts 10 % 3  # 10 ÷ 3 = 3 والباقي 1
puts 20 % 5  # 20 ÷ 5 = 4 والباقي 0
puts 7 % 2   # 7 ÷ 2 = 3 والباقي 1
```

الناتج:
```
1
0
1
```

**تطبيق عملي:** هل العدد زوجي أم فردي؟

```ruby
number = 8

if number % 2 == 0
  puts "العدد زوجي"
else
  puts "العدد فردي"
end
```

الناتج:
```
العدد زوجي
```

### الأس (Power)

عامل `**` يُستخدم لحساب الأس (القوة):

```ruby
puts 2 ** 3   # 2 أُس 3 = 8
puts 5 ** 2   # 5 أُس 2 = 25
puts 10 ** 0  # أي عدد أُس 0 = 1
puts 3 ** 4   # 3 أُس 4 = 81
```

الناتج:
```
8
25
1
81
```

**أمثلة عملية:**

```ruby
# مساحة المربع (الضلع × الضلع)
side = 5
area = side ** 2
puts "مساحة المربع: " + area.to_s

# حجم المكعب (الضلع × الضلع × الضلع)
cube_side = 3
volume = cube_side ** 3
puts "حجم المكعب: " + volume.to_s
```

الناتج:
```
مساحة المربع: 25
حجم المكعب: 27
```

## جدول العمليات الحسابية

| العملية | الرمز | مثال | النتيجة | الوصف |
|---------|-------|------|---------|-------|
| الجمع | `+` | `5 + 3` | `8` | جمع عددين |
| الطرح | `-` | `5 - 3` | `2` | طرح عددين |
| الضرب | `*` | `5 * 3` | `15` | ضرب عددين |
| القسمة | `/` | `15 / 3` | `5` | قسمة عددين |
| باقي القسمة | `%` | `17 % 5` | `2` | باقي القسمة |
| الأس | `**` | `2 ** 4` | `16` | رفع للأس |

## ترتيب العمليات (Operator Precedence)

روبي تتبع ترتيب العمليات الرياضي المعروف (PEMDAS/BODMAS):

1. **الأقواس** `()` - أولوية قصوى
2. **الأس** `**`
3. **الضرب والقسمة وباقي القسمة** `* / %`
4. **الجمع والطرح** `+ -`

```ruby
puts 2 + 3 * 4      # 3 * 4 = 12، ثم 2 + 12 = 14
puts (2 + 3) * 4    # 2 + 3 = 5، ثم 5 * 4 = 20
puts 2 ** 3 * 2     # 2 ** 3 = 8، ثم 8 * 2 = 16
puts 10 - 6 / 2     # 6 / 2 = 3، ثم 10 - 3 = 7
```

الناتج:
```
14
20
16
7
```

> **نصيحة:** استخدم الأقواس لجعل الكود أوضح، حتى لو لم تكن ضرورية!

## عمليات المقارنة (Comparison Operators)

عمليات المقارنة تُقارن قيمتين وتُرجع نتيجة منطقية (`true` أو `false`):

### المساواة وعدم المساواة

```ruby
puts 5 == 5    # هل يساوي؟
puts 5 == 3    # هل يساوي؟
puts 5 != 3    # هل لا يساوي؟
puts 5 != 5    # هل لا يساوي؟
```

الناتج:
```
true
false
true
false
```

### أكبر وأصغر

```ruby
puts 10 > 5    # أكبر من
puts 3 > 7     # أكبر من
puts 4 < 8     # أصغر من
puts 9 < 2     # أصغر من
```

الناتج:
```
true
false
true
false
```

### أكبر من أو يساوي / أصغر من أو يساوي

```ruby
puts 5 >= 5    # أكبر من أو يساوي
puts 5 >= 3    # أكبر من أو يساوي
puts 3 <= 5    # أصغر من أو يساوي
puts 5 <= 5    # أصغر من أو يساوي
```

الناتج:
```
true
true
true
true
```

## جدول عمليات المقارنة

| العملية | الرمز | مثال | النتيجة | الوصف |
|---------|-------|------|---------|-------|
| يساوي | `==` | `5 == 5` | `true` | هل القيمتان متساويتان؟ |
| لا يساوي | `!=` | `5 != 3` | `true` | هل القيمتان مختلفتان؟ |
| أكبر من | `>` | `7 > 3` | `true` | هل الأولى أكبر؟ |
| أصغر من | `<` | `3 < 7` | `true` | هل الأولى أصغر؟ |
| أكبر من أو يساوي | `>=` | `5 >= 5` | `true` | هل الأولى أكبر أو تساوي؟ |
| أصغر من أو يساوي | `<=` | `5 <= 7` | `true` | هل الأولى أصغر أو تساوي؟ |

## المقارنة مع النصوص

يمكنك أيضاً مقارنة النصوص! المقارنة تكون حسب الترتيب الأبجدي:

```ruby
puts "apple" == "apple"   # متساويان
puts "apple" == "Apple"   # مختلفان (حالة الأحرف مهمة)
puts "apple" < "banana"   # a قبل b أبجدياً
puts "zebra" > "apple"    # z بعد a أبجدياً
```

الناتج:
```
true
false
true
true
```

## المقارنة في الشروط

عمليات المقارنة مفيدة جداً في الشروط:

```ruby
age = 18
score = 85

if age >= 18
  puts "بالغ"
else
  puts "قاصر"
end

if score >= 90
  puts "ممتاز"
elsif score >= 70
  puts "جيد"
else
  puts "يحتاج تحسين"
end
```

الناتج:
```
بالغ
جيد
```

## دمج العمليات الحسابية والمقارنة

يمكنك دمج العمليات الحسابية مع المقارنة:

```ruby
x = 10
y = 5

# هل مجموعهما أكبر من 12؟
puts (x + y) > 12

# هل ضربهما يساوي 50؟
puts (x * y) == 50

# هل باقي قسمة x على y يساوي 0؟
puts (x % y) == 0
```

الناتج:
```
true
true
true
```

## عامل المقارنة المشترك (Spaceship Operator)

روبي لديها عامل خاص `<=>` يُسمى "عامل المركبة الفضائية" (Spaceship Operator):

```ruby
puts 5 <=> 3   # 5 أكبر من 3، يُرجع 1
puts 3 <=> 5   # 3 أصغر من 5، يُرجع -1
puts 5 <=> 5   # متساويان، يُرجع 0
```

الناتج:
```
1
-1
0
```

- يُرجع `1` إذا كانت القيمة الأولى أكبر
- يُرجع `-1` إذا كانت القيمة الأولى أصغر
- يُرجع `0` إذا كانتا متساويتين

> **ملاحظة:** هذا العامل مفيد جداً في الترتيب والفرز!

## مثال عملي: حاسبة بسيطة

```ruby
num1 = 20
num2 = 4

puts "العدد الأول: " + num1.to_s
puts "العدد الثاني: " + num2.to_s
puts "---"
puts "الجمع: " + (num1 + num2).to_s
puts "الطرح: " + (num1 - num2).to_s
puts "الضرب: " + (num1 * num2).to_s
puts "القسمة: " + (num1 / num2).to_s
puts "باقي القسمة: " + (num1 % num2).to_s
puts "الأس: " + (num1 ** 2).to_s
puts "---"
puts "هل العدد الأول أكبر؟ " + (num1 > num2).to_s
puts "هل يتساويان؟ " + (num1 == num2).to_s
```

الناتج:
```
العدد الأول: 20
العدد الثاني: 4
---
الجمع: 24
الطرح: 16
الضرب: 80
القسمة: 5
باقي القسمة: 0
الأس: 400
---
هل العدد الأول أكبر؟ true
هل يتساويان؟ false
```

## نصائح مهمة

1. **انتبه لنوع الأعداد:** قسمة عدد صحيح على عدد صحيح تُعطي نتيجة صحيحة
2. **استخدم الأقواس:** لتوضيح ترتيب العمليات
3. **`=` للتعيين، `==` للمقارنة:** لا تخلط بينهما!
4. **حالة الأحرف مهمة:** في مقارنة النصوص `"A" != "a"`
5. **المقارنة تُرجع boolean:** دائماً `true` أو `false`

## تمرين: العمليات الحسابية والمقارنة

حان وقت التطبيق! في محرر الكود على اليسار:

**المطلوب:**
1. عرّف متغيرين: `a = 15` و `b = 4`
2. اطبع ناتج جمعهما
3. اطبع ناتج ضربهما
4. اطبع باقي قسمة a على b
5. اطبع ناتج a أُس 2
6. اطبع نتيجة المقارنة: هل a أكبر من b؟
7. اطبع نتيجة المقارنة: هل a يساوي 15؟

الناتج المتوقع:
```
19
60
3
225
true
true
```

> **تلميح:** استخدم `+` للجمع، `*` للضرب، `%` لباقي القسمة، `**` للأس، `>` للمقارنة، و`==` للتحقق من المساواة!

---

> **تذكّر:** العمليات الحسابية والمقارنة هي أساس البرمجة. ستستخدمها في كل برنامج تكتبه تقريباً!
