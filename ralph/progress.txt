# Ruby3araby Progress Log

Branch: ralph/ruby3araby-interactive-course
Started: 2026-01-24
Last Updated: 2026-01-24

## Codebase Patterns

- Tailwind 4.x uses CSS-based configuration with `@theme inline` in globals.css, not tailwind.config.js
- RTL support in Tailwind 4 is built-in via `rtl:` and `ltr:` variants - set `dir="rtl"` on html element
- Arabic font (Cairo) configured via next/font with `subsets: ["arabic", "latin"]`
- ESLint 9 uses flat config format (eslint.config.mjs) with defineConfig and globalIgnores
- ruby.wasm uses `@ruby/3.4-wasm-wasi` for WASM binary and `@ruby/wasm-wasi` for the `DefaultRubyVM` API
- Ruby output capture: use `StringIO` to redirect `$stdout`/`$stderr`, not JavaScript callbacks
- Avoid using `module` as variable name in Next.js due to `@next/next/no-assign-module-variable` rule
- Monaco editor: wrap in `dir="ltr"` container for code editing in RTL pages; use `automaticLayout: true` for responsiveness
- Use `react-markdown` with `remark-gfm` for markdown rendering in lesson content
- For client components in Next.js app router, create separate files with "use client" directive rather than using `require()`
- Course loader utilities in `lib/course-loader.ts` provide navigation helpers (prev/next lesson)
- ESLint react-hooks/set-state-in-effect: use ref + setTimeout(0) pattern for state updates based on navigation changes
- Lesson content files stored at `content/lessons/{section}/{lesson}.md`, served via API at `/api/lesson-content`

## Completed Stories

### 2026-01-24 - US-001: Project Setup and Infrastructure

**What was implemented:**
- Initialized Next.js 16.1.4 with TypeScript and App Router
- Configured Tailwind CSS 4.1.18 with RTL support
- Set up Cairo Arabic font via next/font/google
- Configured ESLint with Next.js rules and Prettier integration
- Created folder structure: /app, /components, /lib, /content, /public
- All typechecks and linting pass

**Files changed:**
- package.json, package-lock.json (dependencies)
- app/layout.tsx (RTL config, Arabic font, metadata)
- app/globals.css (Tailwind theme with Arabic font)
- eslint.config.mjs (added Prettier config)
- .prettierrc (new - Prettier settings)
- next.config.ts, tsconfig.json, postcss.config.mjs (Next.js config)
- components/.gitkeep, lib/.gitkeep, content/.gitkeep (folder structure)

**Learnings for future iterations:**
- Next.js 16+ uses Tailwind 4 which has different configuration approach
- Tailwind 4 uses `@import "tailwindcss"` and `@theme inline` in CSS
- tailwindcss-rtl plugin was installed but not needed - Tailwind 4 has built-in RTL support
- ESLint 9 flat config requires `eslint-config-prettier` for Prettier integration

---

### 2026-01-24 - US-002: Configure Arabic RTL Layout

**What was implemented:**
- Verified HTML `dir='rtl'` and `lang='ar'` configured in root layout (from US-001)
- Verified Cairo Arabic font configured via next/font (from US-001)
- Confirmed Tailwind 4 built-in RTL support is working (no plugin needed)
- Created Arabic RTL test page with comprehensive RTL demonstration:
  - Hero section with Arabic title and tagline
  - RTL text alignment for paragraphs
  - RTL list bullets (on right side)
  - Mixed Arabic/English content handling
  - Card grid layout in RTL
- All typechecks and linting pass
- Browser verification confirmed correct RTL rendering

**Files changed:**
- app/page.tsx (replaced default template with Arabic RTL test page)

**Learnings for future iterations:**
- Tailwind 4 handles RTL layout automatically when `dir="rtl"` is set on html element
- List bullets appear on the right side automatically in RTL mode
- Mixed content (Arabic + English code snippets) displays correctly with proper bidirectional text handling
- Use `font-mono` class for code snippets to maintain LTR for code while surrounding text is RTL

---

### 2026-01-24 - US-003: Integrate ruby.wasm Runtime

**What was implemented:**
- Installed `@ruby/3.4-wasm-wasi` (WASM binary with stdlib) and `@ruby/wasm-wasi` (JavaScript API)
- Created `RubyRunner` singleton service class in `/lib/ruby-runner.ts`
- Implemented `executeCode(code, input?, timeoutMs?)` method returning `Promise<{ output: string, error?: string }>`
- Output capture via Ruby's `StringIO` redirecting `$stdout` and `$stderr`
- Simulated input support for `gets` calls via overriding `Kernel.gets`
- 60-second execution timeout with user-friendly error message
- Error handling with categorized error messages (SyntaxError, NameError, etc.)
- All typechecks and linting pass

**Files changed:**
- package.json, package-lock.json (added @ruby/3.4-wasm-wasi, @ruby/wasm-wasi)
- lib/ruby-runner.ts (new - RubyRunner service class)
- lib/.gitkeep (removed - no longer needed)

**Learnings for future iterations:**
- `DefaultRubyVM` from `@ruby/wasm-wasi/dist/browser` is the main API for browser usage
- WASM is loaded from CDN: `https://cdn.jsdelivr.net/npm/@ruby/3.4-wasm-wasi@2.7.1/dist/ruby+stdlib.wasm`
- `vm.eval()` runs synchronously, `vm.evalAsync()` for async operations (fetch, etc.)
- Output capture must be done in Ruby via StringIO, not via JavaScript callbacks
- Use `consolePrint: false` option to prevent double-logging to browser console

---

### 2026-01-24 - US-004: Integrate Monaco Editor Component

**What was implemented:**
- Installed `@monaco-editor/react` package for Monaco editor integration
- Created `CodeEditor` component in `/components/CodeEditor.tsx`
- Enabled Ruby syntax highlighting via Monaco's built-in language support
- Configured vs-dark theme with line numbers and auto-indentation
- Set monospace font (JetBrains Mono, Fira Code fallbacks)
- Editor wrapped in `dir="ltr"` container to maintain LTR for code in RTL page
- Added `typecheck` npm script to package.json for TypeScript checking
- Updated homepage with CodeEditor demo showing Arabic/English Ruby code
- All typechecks and linting pass
- Browser verification confirmed correct rendering

**Files changed:**
- package.json, package-lock.json (added @monaco-editor/react, added typecheck script)
- components/CodeEditor.tsx (new - Monaco editor wrapper component)
- app/page.tsx (updated to demonstrate CodeEditor)

**Learnings for future iterations:**
- Monaco editor types from `monaco-editor` package, react wrapper from `@monaco-editor/react`
- Use `dir="ltr"` wrapper around editor to prevent RTL interference with code
- Monaco has built-in Ruby language support - no additional configuration needed
- Use `automaticLayout: true` option for responsive editor sizing
- Loading state can be customized via the `loading` prop with Arabic text

---

### 2026-01-24 - US-005: Create Code Playground Component

**What was implemented:**
- Created `CodePlayground` component in `/components/CodePlayground.tsx`
- Combines CodeEditor with control buttons and output panel
- Run button executes code using RubyRunner with loading state
- Copy Code button copies current code to clipboard with success feedback
- Reset button restores original starter code and clears output
- Output panel displays results with loading spinner during execution
- Errors displayed in red, normal output in default gray color
- Updated homepage to demonstrate CodePlayground with sample Ruby code
- All typechecks and linting pass
- Browser verification confirmed all functionality works

**Files changed:**
- components/CodePlayground.tsx (new - interactive playground component)
- app/page.tsx (updated to use CodePlayground instead of plain CodeEditor)

**Learnings for future iterations:**
- Use `useCallback` for event handlers to prevent unnecessary re-renders
- Copy to clipboard: use `navigator.clipboard.writeText()` with fallback for older browsers
- Show visual feedback for copy success using temporary state
- RubyRunner initialization is lazy - show separate loading message during WASM init vs execution
- Output panel uses `dir="ltr"` to ensure code output displays correctly in RTL page
- Use `useEffect` to sync internal state when `starterCode` prop changes

---

### 2026-01-24 - US-006: Create Simulated Input System

**What was implemented:**
- Added simulated input panel to CodePlayground component
- Input textarea above the editor for entering values before running code
- Newline-separated values support for multiple `gets` calls
- Arabic instructions explaining how the input system works
- Pre-populate input field via `defaultInput` prop for exercises with test values
- `showInputPanel` prop to control visibility (auto-shows when defaultInput provided)
- Input resets when Reset button is clicked
- Updated homepage with demo showing `gets` usage with simulated input
- All typechecks, linting, and build pass

**Files changed:**
- components/CodePlayground.tsx (added input panel, new props, input state management)
- app/page.tsx (added demo section showing gets usage with simulated input)

**Learnings for future iterations:**
- RubyRunner already supported input parameter from US-003 implementation
- Input panel visibility can be automatic (when defaultInput provided) or explicit (showInputPanel prop)
- Keep input textarea in `dir="ltr"` mode since input values are typically code-related
- Arabic instructions help users understand the browser limitation with gets

---

### 2026-01-24 - US-007: Create Lesson Content Schema and Types

**What was implemented:**
- Created TypeScript interfaces in `/lib/types.ts`:
  - `Exercise`: id, instructions, starterCode, expectedOutput, defaultInput, hints
  - `CodeExample`: title, code, output
  - `Lesson`: id, slug, title, content, codeExamples, exercises
  - `Section`: id, slug, title, lessons array
  - `Course`: id, title, description, sections array
  - `LessonStub`, `SectionStub`, `CourseStructure` for course.json structure
- Created course structure JSON in `/content/course.json`:
  - 11 sections covering Ruby from basics to OOP and challenges
  - 37 lesson stubs with Arabic titles and content paths
  - Complete curriculum matching PRD user stories US-014 to US-050
- All typechecks, lint, and build pass

**Files changed:**
- lib/types.ts (new - TypeScript interfaces for content)
- content/course.json (new - course structure with sections and lesson stubs)
- content/.gitkeep (removed - no longer needed)

**Learnings for future iterations:**
- Use `LessonStub` vs `Lesson` to distinguish between course.json references and full content
- Course structure stores only paths to markdown files; full content loaded at runtime
- Arabic section titles help with navigation; lesson titles match individual PRD story titles

---

### 2026-01-24 - US-008: Build Lesson Page Layout

**What was implemented:**
- Created dynamic route `/app/lessons/[section]/[lesson]/page.tsx` for all lessons
- Split layout on desktop: Arabic content on right (RTL), code playground on left
- Mobile responsive: stacks vertically with content on top, editor below
- Markdown rendering with `react-markdown` and `remark-gfm`
- Arabic typography styling with custom markdown components
- Previous/Next lesson navigation buttons with lesson titles
- Breadcrumb navigation showing course > section > lesson
- Course loader utilities in `lib/course-loader.ts` for navigation
- Static site generation for all 37 lesson pages
- All typechecks, lint, and build pass
- Browser verification confirmed correct RTL layout and responsiveness

**Files changed:**
- package.json, package-lock.json (added react-markdown, remark-gfm)
- app/lessons/[section]/[lesson]/page.tsx (new - lesson page with split layout)
- app/lessons/[section]/[lesson]/LessonContent.tsx (new - markdown rendering component)
- app/lessons/[section]/[lesson]/LessonPlayground.tsx (new - client component wrapper)
- lib/course-loader.ts (new - course navigation utilities)

**Learnings for future iterations:**
- Use `generateStaticParams()` in Next.js App Router for dynamic route static generation
- Separate client components into their own files to avoid `require()` eslint errors
- `flex-row-reverse` provides the RTL split layout (content right, editor left)
- Use `lg:` breakpoint classes for responsive stacking
- Breadcrumb navigation helps users understand their location in the course structure

---

### 2026-01-24 - US-009: Build Navigation Sidebar

**What was implemented:**
- Created Sidebar component in `/components/Sidebar.tsx`
- Collapsible/expandable accordion sections with chevron indicators
- Current lesson highlighting with emerald background and white dot indicator
- Section numbering (1-11) and lesson numbering within sections
- Scrollable sidebar for all 37 lessons across 11 sections
- Mobile hamburger menu with slide-in animation and dark overlay
- Auto-expand section containing current lesson on load
- Auto-close mobile sidebar on navigation
- Integrated sidebar into lesson pages with RTL layout
- All typechecks, lint, and build pass
- Browser verification confirmed all functionality works

**Files changed:**
- components/Sidebar.tsx (new - navigation sidebar component)
- app/lessons/[section]/[lesson]/page.tsx (integrated sidebar, adjusted layout)

**Learnings for future iterations:**
- ESLint react-hooks/set-state-in-effect rule prevents setState in useEffect; use ref-based pattern with setTimeout(0) for navigation changes
- Use `useMemo` with empty deps for initial state that depends on route params
- Mobile sidebar uses `translate-x-full`/`translate-x-0` for slide animation
- Use `lg:` breakpoint for sidebar visibility (hidden on mobile, visible on desktop)
- Sidebar positioned with `fixed` on mobile, `sticky` on desktop for different behaviors

---

### 2026-01-24 - US-010: Implement Exercise Validation

**What was implemented:**
- Added `expectedOutput` and `hints` props to CodePlayground component
- Check Answer button appears when exercise has expectedOutput prop
- Output comparison with whitespace normalization (trim, normalize newlines)
- Green success banner with confetti animation for correct answers
- Orange try again banner with progressive hints for incorrect answers
- Side-by-side diff view showing expected vs actual output for debugging
- Confetti CSS animation added to globals.css
- Demo exercise section added to homepage for testing validation
- All typechecks, lint, and build pass
- Browser verification confirmed all validation features work

**Files changed:**
- components/CodePlayground.tsx (added validation logic, UI feedback, new props)
- app/globals.css (added confetti animation keyframes)
- app/page.tsx (added exercise validation demo section)

**Learnings for future iterations:**
- Use `normalizeOutput()` helper to trim whitespace and normalize newlines before comparison
- Validation state uses discriminated union type for type safety: `{ status: "idle" | "correct" | "incorrect", hintIndex?: number }`
- Confetti animation uses CSS keyframes with randomized positions/delays for variety
- Progressive hints: show next hint on each failed attempt until all hints exhausted
- Output diff shows expected (green border) vs actual (red border) side-by-side

---

### 2026-01-24 - US-011: Implement Local Progress Storage

**What was implemented:**
- Created ProgressService singleton in `/lib/progress.ts`
- Implemented `markComplete(lessonId)` and `isComplete(lessonId)` for lesson completion tracking
- Implemented `getLastLesson()` and `setLastLesson(lessonId)` for tracking last visited lesson
- Implemented `saveCode(lessonId, code)` and `loadCode(lessonId)` for code persistence
- All data stored in localStorage with `ruby3araby_` prefix
- Created `debounce` utility and `createDebouncedCodeSaver()` for 1-second debounced auto-save
- Graceful handling when localStorage unavailable (all operations fail silently)
- Updated CodePlayground with `lessonId` prop for automatic code persistence
- Updated LessonPlayground and lesson page to pass lessonId
- All typechecks, lint, and build pass

**Files changed:**
- lib/progress.ts (new - ProgressService with all progress management)
- components/CodePlayground.tsx (added lessonId prop, auto-save integration)
- app/lessons/[section]/[lesson]/LessonPlayground.tsx (accepts and passes lessonId)
- app/lessons/[section]/[lesson]/page.tsx (passes lessonId to LessonPlayground)

**Learnings for future iterations:**
- localStorage availability check uses try/catch around test write/read/remove
- Use `useMemo` for debounced functions to prevent re-creation on every render
- lessonId format is "section-slug/lesson-slug" matching URL structure
- clearCode() called on reset to remove saved code and restore to starter
- ProgressService is a plain object (not a class instance) for simpler exports

---

### 2026-01-24 - US-012: Add Completion Indicators to Sidebar

**What was implemented:**
- Updated Sidebar component to read completion status from ProgressService
- Added checkmark icons next to completed lessons in sidebar
- Show section completion count (e.g., "2/4") next to section title
- Section header shows green checkmark when all lessons in section are complete
- Completed lessons highlighted in emerald color in sidebar
- Listen for `progressUpdate` custom event to update checkmarks in real-time
- Listen for `storage` events for cross-tab sync
- Wired up lesson completion when exercise validation passes in CodePlayground
- Added `progressUpdate` event dispatch in ProgressService.markComplete()
- All typechecks, lint, and build pass

**Files changed:**
- components/Sidebar.tsx (added completion tracking, checkmark icons, completion count)
- lib/progress.ts (added progressUpdate event dispatch on markComplete)
- components/CodePlayground.tsx (call markComplete when exercise validation passes)

**Learnings for future iterations:**
- Use `useCallback` with proper dependencies for memoized completion check functions
- Custom events via `window.dispatchEvent(new CustomEvent(...))` enable real-time UI updates
- Storage events only fire in other tabs, not the current tab - need custom events for same-tab updates
- Section completion status derived from counting completed lessons vs total lessons

---

### 2026-01-24 - US-013: Create Homepage

**What was implemented:**
- Replaced demo/test page with an attractive landing homepage
- Hero section with Arabic title "روبي بالعربي" and engaging tagline
- "ابدأ التعلم" (Start Learning) button linking to first lesson (/lessons/getting-started/what-is-ruby)
- "أكمل من حيث توقفت" (Continue) button that appears when user has progress in localStorage
- Progress indicator showing completed lessons count
- "ما هي لغة روبي؟" section with Arabic description of Ruby and its use cases
- Visual code editor mockup with syntax-highlighted Ruby code and output preview
- "ماذا ستتعلم؟" section with 6 feature cards covering course topics
- Final CTA section encouraging users to start learning
- Footer with copyright
- All typechecks, lint, and build pass
- Browser verification confirmed correct RTL layout and all elements

**Files changed:**
- app/page.tsx (complete rewrite as homepage)

**Learnings for future iterations:**
- Use `useRef` + `setTimeout(0)` pattern to avoid ESLint react-hooks/set-state-in-effect rule
- Static code preview mockup with basic syntax highlighting is effective for showcasing without loading Monaco
- Use `mounted` state to avoid hydration mismatch when rendering progress from localStorage
- `rtl:rotate-180` class is useful for flipping arrows in RTL layouts

---

### 2026-01-24 - US-014: Lesson: What is Ruby and Why Learn It

**What was implemented:**
- Created first lesson content file: `/content/lessons/getting-started/what-is-ruby.md`
- Comprehensive Arabic content covering:
  - Ruby history (created by Yukihiro Matsumoto in 1995)
  - Ruby philosophy (programmer happiness, least surprise principle)
  - Use cases: Ruby on Rails (GitHub, Shopify, Airbnb), scripting, automation
  - Key features: object-oriented, dynamic, interpreted
  - ruby.wasm for browser-based learning
  - Reference to wiki.hsoub.com for Arabic terminology
- Created API route `/app/api/lesson-content/route.ts` to serve lesson markdown files
- Updated `LessonContent.tsx` to dynamically load content from API
- No code exercise for this intro lesson (as specified in PRD)
- All typechecks, lint, and build pass
- Browser verification confirmed correct Arabic RTL rendering

**Files changed:**
- content/lessons/getting-started/what-is-ruby.md (new - lesson content)
- app/api/lesson-content/route.ts (new - API route for serving markdown)
- app/lessons/[section]/[lesson]/LessonContent.tsx (updated to load content dynamically)

**Learnings for future iterations:**
- API route pattern for serving lesson content: GET `/api/lesson-content?section=X&lesson=Y`
- Validate slugs with regex `/^[a-z0-9-]+$/` to prevent path traversal
- LessonContent now supports `content` prop for server-side rendering or fetches from API
- Lesson files use standard markdown with Arabic content; code blocks render LTR automatically
- Content files are stored at `content/lessons/{section}/{lesson}.md`

---

### 2026-01-24 - US-015: Lesson: Hello World

**What was implemented:**
- Created Hello World lesson content at `/content/lessons/getting-started/hello-world.md`
- Arabic explanation of the `puts` command and how Ruby executes code
- Explanation of strings and their syntax in Ruby
- Added ExerciseConfig type to `lib/types.ts` for lesson exercise configuration
- Updated LessonStub to support optional exercise property in course.json
- Updated LessonPlayground to receive and pass exercise configuration to CodePlayground
- Updated lesson page to pass exercise config from course navigation data
- Exercise with starter code, expected output validation, and hints
- Browser verification confirmed: exercise validation shows green success banner with confetti

**Files changed:**
- content/lessons/getting-started/hello-world.md (new - lesson content with Arabic explanation)
- lib/types.ts (added ExerciseConfig interface, updated LessonStub)
- content/course.json (added exercise configuration for hello-world lesson)
- app/lessons/[section]/[lesson]/LessonPlayground.tsx (updated to accept exercise props)
- app/lessons/[section]/[lesson]/page.tsx (passes exercise config to LessonPlayground)

**Learnings for future iterations:**
- ExerciseConfig type allows embedding exercise details directly in course.json
- Lessons with exercises show "التمرين" (The Exercise) heading instead of "جرب الكود" (Try the Code)
- Exercise configuration includes: starterCode, expectedOutput, defaultInput (optional), hints (optional)
- When user solves exercise correctly, lesson is automatically marked complete in sidebar

---

### 2026-01-24 - US-016: Lesson: Using Comments

**What was implemented:**
- Created comments lesson content at `/content/lessons/getting-started/comments.md`
- Arabic explanation of single-line comments using `#` (الشباك)
- Arabic explanation of multi-line comments using `=begin`/`=end`
- Covered why to use comments: documentation, disabling code, planning
- Included practical examples and tips for good commenting practices
- Added comparison table showing when to use each comment type
- Exercise: comment out the middle line to make output show only two lines
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, exercise validation with success banner

**Files changed:**
- content/lessons/getting-started/comments.md (new - lesson content)
- content/course.json (added exercise configuration for comments lesson)

**Learnings for future iterations:**
- Comments lessons are straightforward - exercise involves commenting out a line to change output
- Starter code with three `puts` statements works well for demonstrating comment effects
- The multi-line comment syntax (`=begin`/`=end`) must start at column 0 - important to mention

---

### 2026-01-24 - US-017: Lesson: puts vs print vs p

**What was implemented:**
- Created output methods lesson at `/content/lessons/getting-started/output-methods.md`
- Comprehensive Arabic explanations of:
  - `puts` - prints with automatic newline
  - `print` - prints without newline for same-line output
  - `p` - prints with inspection (shows quotes, type info) for debugging
- Comparison table showing differences in behavior
- Code examples demonstrating each method's unique behavior
- Practical examples showing when to use each method
- Exercise requiring use of all three methods to produce specific output
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise validation

**Files changed:**
- content/lessons/getting-started/output-methods.md (new - lesson content)
- content/course.json (added exercise configuration for output-methods lesson)

**Learnings for future iterations:**
- Output method lessons benefit from side-by-side comparison showing same code with different output
- The `p` method is particularly useful for debugging - showing quotes around strings helps distinguish types
- Exercise requiring all three methods tests understanding of their distinct behaviors

---

### 2026-01-24 - US-018: Lesson: Variables and Data Types

**What was implemented:**
- Created variables and data types lesson at `/content/lessons/fundamentals/variables-types.md`
- Comprehensive Arabic explanations of:
  - Variables: naming conventions, assignment operator, snake_case
  - Strings: single and double quotes, unicode support
  - Integers: whole numbers, underscores for readability
  - Floats: decimal numbers
  - Booleans: true/false values
  - nil: representing absence of value
- Using `.class` to inspect data types
- Variable reassignment and update shortcuts (+=, -=, *=)
- Comparison table of all data types
- Practical examples: personal info, simple calculation
- Exercise: create variables of each type for Cairo city data
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise validation

**Files changed:**
- content/lessons/fundamentals/variables-types.md (new - lesson content)
- content/course.json (added exercise configuration for variables-types lesson)

**Learnings for future iterations:**
- Created the `fundamentals` directory since it's the first lesson in this section
- Exercise asking students to create real-world data (city info) makes the lesson more engaging
- Include `.to_s` usage early since string concatenation with other types requires conversion

---

### 2026-01-24 - US-019: Lesson: Constants and Symbols

**What was implemented:**
- Created constants and symbols lesson at `/content/lessons/fundamentals/constants-symbols.md`
- Comprehensive Arabic explanations of:
  - Constants: UPPERCASE naming, when to use (PI, settings, limits)
  - Why constants matter: warning when changed but not prevented
  - Symbols: `:name` syntax, memory efficiency, immutability
  - Difference between symbols and strings (object_id comparison)
  - When to use symbols: hash keys, statuses, method names
  - Converting between symbols and strings (to_sym, to_s)
- Comparison table: Constants vs Symbols
- Practical example: application settings with constants and symbols
- Exercise: define constants and symbols for country data
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/fundamentals/constants-symbols.md (new - lesson content)
- content/course.json (added exercise configuration for constants-symbols lesson)

**Learnings for future iterations:**
- Constants in Ruby give warnings but don't prevent reassignment - important to mention
- Symbol memory efficiency shown by comparing object_id of same symbol vs same string
- Symbols are commonly used as hash keys (will be important for hashes lesson later)

---

### 2026-01-24 - US-020: Lesson: Basic Operators

**What was implemented:**
- Created basic operators lesson at `/content/lessons/fundamentals/operators.md`
- Comprehensive Arabic explanations of:
  - Arithmetic operators: +, -, *, /, %, **
  - Division behavior (integer vs float division)
  - Operator precedence (PEMDAS/BODMAS)
  - Comparison operators: ==, !=, <, >, <=, >=
  - String comparison (alphabetical ordering)
  - Spaceship operator (<=>)
- Tables summarizing all arithmetic and comparison operators
- Practical examples showing combined arithmetic and comparison
- Exercise: perform calculations and comparisons with a=15, b=4
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise validation with green success banner

**Files changed:**
- content/lessons/fundamentals/operators.md (new - lesson content)
- content/course.json (added exercise configuration for operators lesson)

**Learnings for future iterations:**
- Integer division in Ruby returns integer (15/4=3), need float for decimal result
- Operator precedence follows standard math rules (PEMDAS)
- The spaceship operator (<=>) is useful for sorting and returns -1, 0, or 1
- String comparison is case-sensitive and follows alphabetical order

---

### 2026-01-24 - US-021: Lesson: Boolean Logic

**What was implemented:**
- Created Boolean Logic lesson at `/content/lessons/fundamentals/boolean-logic.md`
- Comprehensive Arabic explanations of:
  - `&&` (AND) operator with truth table
  - `||` (OR) operator with truth table
  - `!` (NOT) operator for negation
  - Operator precedence (! > && > ||)
  - Difference between `&&`/`||` and `and`/`or` (precedence issues)
  - Short-circuit evaluation explanation
- Practical examples: age/balance checks, permissions, password validation
- Exercise: combine conditions using all three operators
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise validation with green success banner

**Files changed:**
- content/lessons/fundamentals/boolean-logic.md (new - lesson content)
- content/course.json (added exercise configuration for boolean-logic lesson)

**Learnings for future iterations:**
- Boolean operators in Ruby: `&&` and `||` have higher precedence than `and`/`or`
- `and`/`or` have lower precedence than `=`, which can cause unexpected behavior
- Short-circuit evaluation stops evaluating once result is determined
- Always recommend using `&&`/`||` for conditions, `and`/`or` only for control flow

---

### 2026-01-24 - US-022: Lesson: Truthiness and Falsiness

**What was implemented:**
- Created Truthiness lesson at `/content/lessons/fundamentals/truthiness.md`
- Comprehensive Arabic explanations of:
  - Only `nil` and `false` are falsy in Ruby (the golden rule)
  - `0`, empty string `""`, empty array `[]`, and empty hash `{}` are truthy
  - Comparison with other languages (JavaScript, Python)
  - The `!!` (double bang) technique for converting to boolean
  - Difference between `nil` and `false`
  - Using `empty?` to check for empty strings/arrays
  - Safe navigation operator `&.` for nil handling
- Practical examples: checking for nil values, default values with `||`
- Comparison table showing truthiness in Ruby vs other languages
- Exercise: use `!!` to convert various values and verify their truthiness
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise validation with green success banner

**Files changed:**
- content/lessons/fundamentals/truthiness.md (new - lesson content)
- content/course.json (added exercise configuration for truthiness lesson)

**Learnings for future iterations:**
- Ruby's truthiness is simpler than most languages: only `nil` and `false` are falsy
- This is different from JavaScript/Python where 0, "", [], {} are falsy
- The `!!` pattern is useful for converting any value to a strict boolean
- `nil?` checks specifically for nil, while truthiness checks work for any value
- Safe navigation `&.` returns nil instead of raising error on nil receiver

---

### 2026-01-24 - US-023: Lesson: String Interpolation

**What was implemented:**
- Created String Interpolation lesson at `/content/lessons/fundamentals/string-interpolation.md`
- Comprehensive Arabic explanations of:
  - `#{}` syntax for embedding variables and expressions in strings
  - Difference between double quotes (interpolation works) and single quotes (no interpolation)
  - Embedding arithmetic expressions and method calls inside `#{}`
  - Comparison between interpolation and concatenation (+)
  - Why interpolation is preferred (readability, auto type conversion, performance)
- Comparison table: Interpolation vs Concatenation
- Practical examples: greeting messages, product info, file paths, multi-line strings
- Escaping `#{}` with backslash for literal output
- Exercise: build weather report strings using interpolation with temperature conversion
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise starter code displayed

**Files changed:**
- content/lessons/fundamentals/string-interpolation.md (new - lesson content)
- content/course.json (added exercise configuration for string-interpolation lesson)

**Learnings for future iterations:**
- String interpolation only works with double quotes, not single quotes
- The `#{}` can contain any Ruby expression, not just variables
- Ruby automatically calls `to_s` on values inside `#{}`
- Temperature conversion formula: celsius * 9/5 + 32 = fahrenheit

---

### 2026-01-24 - US-024: Lesson: Common String Methods

**What was implemented:**
- Created Common String Methods lesson at `/content/lessons/fundamentals/string-methods.md`
- Comprehensive Arabic explanations of string manipulation methods:
  - Case conversion: upcase, downcase, capitalize, swapcase
  - String info: length, size, empty?, include?
  - Cleaning: strip, lstrip, rstrip, chomp
  - Reversal and repetition: reverse, *
  - Splitting and joining: split, join
  - Search and replace: gsub, sub, delete
  - Accessing parts: indexing [0], [-1], ranges [0..4]
- Summary table with all 10 key methods
- Method chaining examples (e.g., text.strip.downcase.capitalize)
- Practical examples: cleaning email input, transforming filenames
- Important note about methods not modifying original string
- Exercise: transform name/email/address using strip, upcase, downcase, gsub, length
- Added exercise configuration to course.json with hints
- Browser verification confirmed: RTL layout, content rendering, exercise with code playground

**Files changed:**
- content/lessons/fundamentals/string-methods.md (new - lesson content)
- content/course.json (added exercise configuration for string-methods lesson)

**Learnings for future iterations:**
- String methods in Ruby return new strings, don't modify the original
- Method chaining is a common Ruby pattern: text.strip.downcase.capitalize
- Exercise using real data (name, email, address) makes learning practical
- gsub replaces all occurrences, sub replaces only the first

---

### 2026-01-24 - US-025: Lesson: Bang and Predicate Methods

**What was implemented:**
- Created lesson content at `/content/lessons/fundamentals/bang-predicate.md`
- Comprehensive Arabic explanations of:
  - Bang methods (!): upcase!, downcase!, capitalize!, strip!, gsub!, etc.
  - How bang methods modify the original value instead of returning a copy
  - Warning about bang methods returning nil when no change occurs
  - Predicate methods (?): empty?, nil?, include?, start_with?, end_with?
  - Number predicates: even?, odd?, zero?, positive?, negative?, between?
  - Array predicates: empty?, include?, any?
  - Type checking: is_a?, respond_to?
- Comparison table for both bang and predicate methods
- Practical examples: data validation, cleaning user input
- Exercise: use upcase!, empty?, even?, and include? to produce expected output
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/fundamentals/bang-predicate.md (new - lesson content)
- content/course.json (added exercise configuration for bang-predicate lesson)

**Learnings for future iterations:**
- Bang methods (!) modify in place but return nil if no change occurs - don't chain them
- Predicate methods (?) always return true or false - ideal for conditionals
- This lesson builds on string-methods by explaining the ! variant
- Exercise tests all four main predicate/bang concepts in one go

---

### 2026-01-24 - US-026: Lesson: Getting User Input

**What was implemented:**
- Created user input lesson at `/content/lessons/fundamentals/user-input.md`
- Comprehensive Arabic explanations of:
  - `gets` command for reading user input
  - `gets.chomp` to remove trailing newline character
  - Difference between gets with and without chomp
  - Special note about simulated input system in browser (ruby.wasm)
  - How the simulated input works (pre-enter values, line-by-line reading)
- Helper functions: strip for cleaning input, checking for empty input
- Summary table of gets variants
- Practical examples: greeting, collecting info, Q&A
- Important reminder that gets always returns a string
- Exercise: ask user name and greet them (using simulated input)
- Added exercise configuration to course.json with defaultInput for pre-populated input
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/fundamentals/user-input.md (new - lesson content)
- content/course.json (added exercise configuration for user-input lesson)

**Learnings for future iterations:**
- Use `defaultInput` in exercise config to pre-populate the simulated input field
- The simulated input system reads line-by-line, matching multiple gets calls
- Always pair gets with chomp to avoid newline issues
- Remind learners about browser-based input simulation vs real terminal

---

### 2026-01-24 - US-027: Lesson: Type Conversion

**What was implemented:**
- Created type conversion lesson at `/content/lessons/fundamentals/type-conversion.md`
- Comprehensive Arabic explanations of:
  - `to_i` - convert to integer with behavior explanation
  - `to_f` - convert to float
  - `to_s` - convert to string
  - `to_a` - convert to array (ranges, hashes, nil)
- Why gets returns string and needs conversion for calculations
- Practical examples: calculating age, area, sum of two numbers
- Method chaining examples (chomp.strip.to_i)
- Validation techniques for input checking
- Strict conversion methods: `Integer()` and `Float()`
- Common errors: forgetting conversion, using wrong type, confusing + for addition vs concatenation
- Summary table with all conversion methods
- Exercise: input two numbers, calculate and display sum and difference
- Added exercise configuration to course.json with defaultInput and hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, exercise with pre-populated input

**Files changed:**
- content/lessons/fundamentals/type-conversion.md (new - lesson content)
- content/course.json (added exercise configuration for type-conversion lesson)

**Learnings for future iterations:**
- `to_i` returns 0 for non-numeric strings - doesn't raise error
- Use `Integer()` or `Float()` for strict conversion that raises errors
- Method chaining `gets.chomp.to_i` is the standard pattern for numeric input
- Exercise uses defaultInput to pre-populate simulated input field

---

### 2026-01-24 - US-028: Lesson: Multiple Assignment and Nil Handling

**What was implemented:**
- Created Multiple Assignment and Nil Handling lesson at `/content/lessons/fundamentals/multiple-assignment.md`
- Comprehensive Arabic explanations of:
  - Parallel assignment: a, b = 1, 2 for assigning multiple values in one line
  - Swapping values: a, b = b, a without temporary variables
  - Unequal variable/value counts (extra values ignored, extra variables become nil)
  - Splat operator (*) for collecting remaining values
  - What nil is and when it occurs (unassigned variables, missing array elements, missing hash keys)
  - Safe navigation operator (&.) to prevent NoMethodError on nil
  - Default values using || and ||= operators
  - Checking for nil with nil? and unless
- Summary table comparing all techniques
- Practical examples: user data processing, value sorting, extracting first/last elements
- Exercise: use parallel assignment, swapping, &., and || operators
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground works

**Files changed:**
- content/lessons/fundamentals/multiple-assignment.md (new - lesson content)
- content/course.json (added exercise configuration for multiple-assignment lesson)

**Learnings for future iterations:**
- The safe navigation operator (&.) is Ruby 2.3+ feature - returns nil instead of raising error
- Parallel assignment is useful for method returns: def coords; [x, y]; end -> x, y = coords
- The splat (*) operator can appear at beginning, middle, or end of variable list
- || returns second value if first is nil OR false; &. only handles nil

---

### 2026-01-24 - US-029: Lesson: Conditionals (if/elsif/else/unless)

**What was implemented:**
- Created conditionals lesson at `/content/lessons/control-flow/conditionals.md`
- Created `control-flow` directory for control flow lessons
- Comprehensive Arabic explanations of:
  - `if` statement: basic syntax, structure, single and multi-line code blocks
  - `if-else`: alternative execution when condition is false
  - `if-elsif-else`: handling multiple conditions in sequence
  - `unless`: opposite of if (executes when condition is false)
  - Inline conditionals: `puts "yes" if condition` syntax
  - Nested conditionals and simplification with `&&`
  - Combining conditions with boolean operators
- Practical examples: age verification, grade calculator, weather conditions, discounts
- Common errors section: forgetting end, using = instead of ==, unreachable conditions
- Summary table of all conditional forms
- Exercise: grade calculator that prints "جيد" for score 78
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/control-flow/conditionals.md (new - lesson content)
- content/course.json (added exercise configuration for conditionals lesson)

**Learnings for future iterations:**
- Control flow section started - created new `control-flow` directory
- Conditionals build on boolean-logic lesson from fundamentals
- elsif order matters - more specific conditions should come first
- unless should not be used with elsif (becomes confusing)
- Inline conditionals useful for simple one-liners only

---

### 2026-01-24 - US-030: Lesson: Case/When Statements

**What was implemented:**
- Created case/when lesson at `/content/lessons/control-flow/case-when.md`
- Comprehensive Arabic explanations of:
  - Basic case/when structure and syntax
  - Matching multiple values with commas (when 1, 2, 3)
  - Matching ranges (when 80..89)
  - Matching strings and text commands
  - Matching patterns with Regex
  - Matching types (when Integer, String)
  - Case without value (case as if)
  - Using `then` for single-line cases
- Comparison table: case/when vs if-elsif-else
- Practical examples: day names, menu system, calculator, pricing, HTTP status codes
- Exercise: convert day number (4) to Arabic day name ("الثلاثاء")
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/control-flow/case-when.md (new - lesson content)
- content/course.json (added exercise configuration for case-when lesson)

**Learnings for future iterations:**
- case/when in Ruby returns a value - can assign directly to variable
- when can match multiple values: when 1, 2, 3
- when can match ranges: when 80..89 (useful for grade-like conditions)
- case without a value acts like if-elsif (each when has its own condition)
- then keyword allows single-line case statements

---

### 2026-01-24 - US-031: Lesson: Ternary Operator

**What was implemented:**
- Created ternary operator lesson at `/content/lessons/control-flow/ternary.md`
- Comprehensive Arabic explanations of:
  - Ternary operator syntax: `condition ? true_result : false_result`
  - The three parts: condition, `?`, true result, `:`, false result
  - When to use ternary vs full if-else (simple conditions only)
  - Using ternary inside puts directly
  - Using ternary in string interpolation
  - Converting if-else to ternary operator
  - Why to avoid nested ternary operators
- Comparison table: Ternary vs if-else
- Practical examples: checking positivity, even/odd, absolute value, member pricing
- Exercise: convert if-else for positive/negative check to ternary operator
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/control-flow/ternary.md (new - lesson content)
- content/course.json (added exercise configuration for ternary lesson)

**Learnings for future iterations:**
- Ternary operator is ideal for simple one-condition assignments
- Avoid nested ternaries - use if-elsif-else or case/when instead
- Ternary can be used directly inside puts: `puts x > 0 ? "yes" : "no"`
- Ternary works inside string interpolation: `"#{x > 0 ? "+" : "-"}"`
- Ruby style guide recommends ternary only for simple, clear conditions

---

### 2026-01-24 - US-032: Lesson: While and Until Loops

**What was implemented:**
- Created while and until loops lesson at `/content/lessons/loops/while-until.md`
- Created the `loops` directory for loop-related lessons
- Comprehensive Arabic explanations of:
  - `while` loop: repeat code while condition is true
  - `until` loop: repeat code until condition becomes true
  - Loop mechanics: condition checking, variable updates, avoiding infinite loops
  - Comparison of while vs until with equivalence table
  - Inline/modifier syntax for single-line loops
  - Nested loops with practical examples
- Practical examples: counting, summing, factorial, multiplication table, star triangle
- Common errors: forgetting to update variable, unreachable conditions
- Summary table comparing while and until
- Exercise: countdown from 10 to 1, then print "انطلق!"
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/loops/while-until.md (new - lesson content)
- content/course.json (added exercise configuration for while-until lesson)

**Learnings for future iterations:**
- Created new `loops` directory for loop-related lessons
- While and until are logical inverses: `while x <= 5` equals `until x > 5`
- Warning about infinite loops is important - browser has 60-second timeout
- Inline loop syntax (modifier form) is less readable, use sparingly
- Nested loops can affect performance - mention this to learners

---

### 2026-01-24 - US-033: Lesson: For Loops and Loop Control

**What was implemented:**
- Created for loops and loop control lesson at `/content/lessons/loops/for-control.md`
- Comprehensive Arabic explanations of:
  - `for` loop with ranges (inclusive `..` and exclusive `...`)
  - Understanding ranges in Ruby (numeric and character ranges)
  - `break` - exit loop immediately when condition is met
  - `next` - skip current iteration and continue with next
  - Combining break and next in the same loop
- Practical examples: multiplication tables, prime numbers, filtered iteration
- Comparison table: for vs while loops
- Common errors section with examples
- Exercise: print even numbers 1-20, skip 6, stop at 14 (tests both break and next)
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground works

**Files changed:**
- content/lessons/loops/for-control.md (new - lesson content)
- content/course.json (added exercise configuration for for-control lesson)

**Learnings for future iterations:**
- For loops in Ruby work with ranges and collections
- Inclusive range `1..5` includes 5, exclusive range `1...5` excludes 5
- break only exits the innermost loop (important for nested loops)
- next is useful for filtering values without deeply nested if statements
- Exercise combining break and next tests understanding of both concepts

---

### 2026-01-24 - US-034: Lesson: Arrays

**What was implemented:**
- Created Arrays lesson at `/content/lessons/collections/arrays.md`
- Created the `collections` directory for collection-related lessons
- Comprehensive Arabic explanations of:
  - Creating arrays: [], Array.new, %w syntax
  - Accessing elements: positive/negative indices, ranges, first/last
  - Modifying arrays: push/<<, pop, shift, unshift, insert, delete, delete_at
  - Array information: length, size, count, empty?, include?, index
  - Iterating with for and each, each_with_index
- Practical examples: shopping list, grade tracking, task list
- Exercise: manage a shopping list with add, remove, and print operations
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/collections/arrays.md (new - lesson content)
- content/course.json (added exercise configuration for arrays lesson)

**Learnings for future iterations:**
- Created new `collections` directory for array/hash/enumerable lessons
- Arrays in Ruby use 0-based indexing (like most languages)
- Negative indices access from end: arr[-1] is last element
- << (shovel operator) is preferred over push for adding single elements
- each_with_index useful for displaying numbered lists
- Exercise tests multiple operations: create, add (end/beginning), delete, access

---

### 2026-01-24 - US-035: Lesson: Common Array Methods

**What was implemented:**
- Created Common Array Methods lesson at `/content/lessons/collections/array-methods.md`
- Comprehensive Arabic explanations of:
  - Accessing elements: first, last, take, drop
  - Array info: length, size, count, empty?, any?, none?, include?, index, rindex
  - Sorting: sort, sort_by, reverse, shuffle
  - Cleaning: uniq, compact, flatten
  - Additional: min, max, sum, minmax, sample, join, zip
- Summary table of all key methods
- Comparison of regular methods vs bang methods (!)
- Practical examples: data cleaning, grade analysis, name processing, task merging
- Exercise: clean raw data by removing nil, removing duplicates, sorting, then analyze
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: page loads with correct title "دوال المصفوفات | روبي بالعربي"

**Files changed:**
- content/lessons/collections/array-methods.md (new - lesson content)
- content/course.json (added exercise configuration for array-methods lesson)

**Learnings for future iterations:**
- Method chaining is idiomatic Ruby: `data.compact.uniq.sort`
- Most array methods return new arrays; use bang methods (!) for in-place modification
- `count` can take a value or block for conditional counting
- `sort_by` is cleaner than `sort` with custom comparator when sorting by a single property
- `flatten` takes optional depth parameter: `flatten(1)` for single level
- `join` is the opposite of `split` - converts array to string

---

### 2026-01-24 - US-036: Lesson: Hashes

**What was implemented:**
- Created Hashes lesson at `/content/lessons/collections/hashes.md`
- Comprehensive Arabic explanations of:
  - Hash creation: `{}`, `Hash.new`, and default values
  - Symbol keys: old syntax (`:key =>`) and modern syntax (`key:`)
  - Accessing values: `[]`, `fetch`, `dig` for nested hashes
  - Adding/modifying: direct assignment, `store`, `merge`
  - Deleting: `delete`, `delete_if`, `clear`
  - Hash info: `length`, `empty?`, `key?`, `value?`, `keys`, `values`
  - Iteration: `each`, `each_key`, `each_value`
- Comparison table of array vs hash
- Practical examples: person data, word counter, student grades, app settings
- Nested hashes with `dig` for safe access
- Exercise: create person hash, access values, add key, check key existence
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/collections/hashes.md (new - lesson content)
- content/course.json (added exercise configuration for hashes lesson)

**Learnings for future iterations:**
- Symbol keys with modern syntax (`key: value`) are preferred in Ruby
- `Hash.new(0)` is useful for counters - avoids nil checks
- `fetch` with default value is safer than `[]` which returns nil
- `dig` is essential for nested hashes - prevents NoMethodError on nil
- Hashes maintain insertion order since Ruby 1.9

---

### 2026-01-24 - US-037: Lesson: Ranges and Enumerables

**What was implemented:**
- Created Ranges and Enumerables lesson at `/content/lessons/collections/ranges-enumerables.md`
- Comprehensive Arabic explanations of:
  - Inclusive ranges (`..`) vs exclusive ranges (`...`)
  - Range creation, iteration with `each`, membership testing with `include?`/`cover?`
  - Ranges with letters, in case/when, and for slicing strings/arrays
  - Enumerable methods: `each`, `each_with_index`, `map`/`collect`, `select`/`find_all`
  - `reject`, `find`/`detect`, `reduce`/`inject`, `any?`, `all?`, `none?`
  - `count`, `take`, `drop`, `partition`, `group_by`
- Summary table of all key enumerable methods
- Method chaining examples for complex operations
- Practical examples: filtering students, price discounts, text analysis, data validation
- Comparison of `each` vs `map`
- Exercise: create array from range, select evens, map to triple, reduce sum
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: page loads with correct title and RTL layout

**Files changed:**
- content/lessons/collections/ranges-enumerables.md (new - lesson content)
- content/course.json (added exercise configuration for ranges-enumerables lesson)

**Learnings for future iterations:**
- `..` is inclusive (includes end), `...` is exclusive (excludes end) - opposite of what some might expect
- Enumerables are the core of functional-style programming in Ruby
- `cover?` is faster than `include?` for ranges (doesn't iterate)
- `reduce(:+)` is a shorthand for `reduce { |sum, n| sum + n }`
- `partition` returns two arrays: [matching, non-matching]
- `group_by` returns a hash with keys being the block results

---

### 2026-01-24 - US-038: Lesson: Defining Methods

**What was implemented:**
- Created Defining Methods lesson at `/content/lessons/methods/defining-methods.md`
- Created the `methods` directory for method-related lessons
- Comprehensive Arabic explanations of:
  - `def`/`end` syntax for defining methods
  - Parameters vs arguments distinction
  - Multiple parameters
  - Default argument values with proper ordering rules
  - Method naming conventions (snake_case, ?, !)
  - Methods calling other methods
  - Methods with conditionals and loops
  - Local variables and scope
- Practical examples: calculator, name formatting, validation, greetings
- Common errors section: forgetting end, wrong argument count, parameter ordering
- Exercise: create greeting method with optional `greeting` parameter (default "مرحباً")
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass

**Files changed:**
- content/lessons/methods/defining-methods.md (new - lesson content)
- content/course.json (added exercise configuration for defining-methods lesson)

**Learnings for future iterations:**
- Created new `methods` directory for method-related lessons
- Methods in Ruby use `def`/`end` syntax, similar to other blocks
- Default parameters must come AFTER required parameters
- Method names use snake_case, predicate methods end with `?`, bang methods end with `!`
- Variables inside methods are local - can't access outer variables without passing them as arguments
- Exercise tests both required parameter (name) and optional parameter with default (greeting)

---

### 2026-01-24 - US-039: Lesson: Return Values and Splat Operators

**What was implemented:**
- Created Return Values and Splat Operators lesson at `/content/lessons/methods/returns-splat.md`
- Comprehensive Arabic explanations of:
  - Implicit return (الإرجاع الضمني) - Ruby returns last computed value
  - Explicit return (الإرجاع الصريح) - using `return` keyword for early exit
  - Returning multiple values using arrays with destructuring
  - Splat operator (`*args`) for accepting variable number of arguments
  - Double splat operator (`**kwargs`) for accepting keyword arguments as hash
  - Combining splat with regular parameters
  - Using splat when calling methods to unpack arrays/hashes
  - Proper parameter ordering (required, default, *args, keyword, **kwargs)
- Summary table of all return and splat concepts
- Common errors section: puts returning nil, parameter ordering, unnecessary return
- Exercise: create `sum_all` with splat and `describe_person` with double splat
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground works

**Files changed:**
- content/lessons/methods/returns-splat.md (new - lesson content)
- content/course.json (added exercise configuration for returns-splat lesson)

**Learnings for future iterations:**
- Implicit return is idiomatic Ruby - prefer it over explicit return at end of methods
- `*args` collects remaining positional arguments into an array
- `**kwargs` collects keyword arguments into a hash
- Parameter order matters: required, defaults, *splat, keyword, **double_splat
- Common gotcha: `puts` returns nil, not the printed value
- Splat can also be used when calling methods to unpack arrays/hashes

---

### 2026-01-24 - US-040: Lesson: Blocks

**What was implemented:**
- Created Blocks lesson at `/content/lessons/blocks/block-syntax.md`
- Created the `blocks` directory for block-related lessons
- Comprehensive Arabic explanations of:
  - `do...end` syntax for multi-line blocks
  - `{ }` curly brace syntax for single-line blocks
  - Block parameters with `|item|` notation
  - Multiple block parameters (key, value) and (item, index)
  - Blocks with `each`, `each_with_index`, `times`, `upto`, `downto`
  - `map` for transforming collections
  - `select` and `reject` for filtering
  - `find` for finding first match
  - `reduce` for aggregating values
  - `any?`, `all?`, `none?` for boolean checks
  - Method chaining with blocks
  - Block variable scope (local vs outer variables)
- Summary table of all key block methods
- Practical examples: sales analysis, name processing, product filtering
- Exercise: use select, map, reduce to process numbers array (expected output: 60)
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/blocks/block-syntax.md (new - lesson content)
- content/course.json (added exercise configuration for block-syntax lesson)

**Learnings for future iterations:**
- Created new `blocks` directory for block-related lessons (blocks, yield, procs/lambdas)
- Blocks are fundamental to Ruby - they enable functional-style programming
- `do...end` is conventional for multi-line blocks, `{ }` for single-line
- Method chaining (select/map/reduce) is idiomatic Ruby for data processing
- Block variables defined inside blocks are local to the block
- Blocks can access and modify outer variables (closures)

---

### 2026-01-24 - US-041: Lesson: Yield and Custom Block Methods

**What was implemented:**
- Created Yield and Custom Block Methods lesson at `/content/lessons/blocks/yield.md`
- Comprehensive Arabic explanations of:
  - What `yield` is: executing blocks passed to methods
  - Passing values to blocks via `yield(value)`
  - Receiving return values from blocks
  - Multiple yields in a single method
  - Checking for block presence with `block_given?`
  - Creating custom iterators (each_even, each_numbered, select_if)
  - Common patterns: wrapper, setup/teardown, conditional repetition
  - Difference between yield and Proc.call (preview for next lesson)
- Summary table of yield concepts
- Practical examples: task processing, HTML builder, prime number iterator
- Common errors section: calling yield without block, forgetting to capture yield result
- Exercise: create `each_word` method that yields each word from a text
- Added exercise configuration to course.json with hints
- All typechecks, lint pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/blocks/yield.md (new - lesson content)
- content/course.json (added exercise configuration for yield lesson)

**Learnings for future iterations:**
- `yield` is fundamental to Ruby's block system - enables creating flexible methods
- `block_given?` prevents LocalJumpError when method is called without a block
- Exercise using `split` and `yield` demonstrates practical custom iterator creation
- Lesson builds on blocks lesson and sets up for procs/lambdas lesson next

---

### 2026-01-24 - US-042: Lesson: Procs and Lambdas

**What was implemented:**
- Created Procs and Lambdas lesson at `/content/lessons/blocks/procs-lambdas.md`
- Comprehensive Arabic explanations of:
  - What Proc is: storing blocks as objects with Proc.new and proc shortcut
  - What Lambda is: stricter block storage with lambda or -> syntax
  - Multiple ways to call Procs: .call(), [], .===, .()
  - Lambda with parameters using ->(a, b) { } syntax
  - Key difference #1: Lambda strictly checks argument count, Proc is lenient
  - Key difference #2: return in Proc exits enclosing method, return in Lambda exits only Lambda
  - Converting blocks to Procs with & in method definition
  - Converting Procs to blocks with & when calling methods
  - Symbol shortcut &:method_name
  - Closures: Procs/Lambdas capturing surrounding scope
- Practical examples: event emitter, custom filters, flexible calculator
- When to use which: Lambda for safety, Proc for flexibility
- Common errors: forgetting .call(), mixing return behavior, argument count mismatch
- Exercise: create square Lambda and greet Proc, use with map
- Added exercise configuration to course.json with hints
- All typechecks, lint pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/blocks/procs-lambdas.md (new - lesson content)
- content/course.json (added exercise configuration for procs-lambdas lesson)

**Learnings for future iterations:**
- Procs and Lambdas are objects that store blocks for later execution
- Lambda is safer (strict arg checking, normal return) - recommended for most cases
- Proc is more flexible (lenient args, return exits enclosing method)
- The & operator converts between blocks and Procs in both directions
- Closures make Procs/Lambdas powerful for creating factories and callbacks
- This completes the blocks section (block-syntax, yield, procs-lambdas)

---

### 2026-01-24 - US-043: Lesson: Classes and Objects

**What was implemented:**
- Created Classes and Objects lesson at `/content/lessons/oop/classes-objects.md`
- Created the `oop` directory for Object-Oriented Programming lessons
- Comprehensive Arabic explanations of:
  - What is Object-Oriented Programming (البرمجة الكائنية)
  - Everything in Ruby is an object (strings, numbers, arrays, etc.)
  - Class definition syntax with `class`/`end`
  - Creating objects with `.new`
  - Instance variables (`@variable`) for storing object data
  - Instance methods for object behavior
  - Difference between class (blueprint) and object (instance)
  - Why use classes: organization, reuse, encapsulation
- Practical examples: Student, Rectangle, BankAccount, Book, Product, Player classes
- Common errors: forgetting @, calling method on class instead of object, forgetting new
- Summary table of key concepts
- Exercise: create Person class with set_info, get_name, get_age, introduce methods
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/oop/classes-objects.md (new - lesson content)
- content/course.json (added exercise configuration for classes-objects lesson)

**Learnings for future iterations:**
- Created new `oop` directory for OOP-related lessons (classes, initialize, inheritance)
- Instance variables (@) are private to each object - need getter methods to access
- The `.new` method creates new instances; calling method on class directly raises NoMethodError
- This lesson introduces OOP basics without initialize - next lesson (US-044) will cover constructors
- Exercise uses set_info pattern (manual setters) to prepare for accessor shortcuts in next lesson

---

### 2026-01-24 - US-044: Lesson: Initialize and Accessors

**What was implemented:**
- Created Initialize and Accessors lesson at `/content/lessons/oop/initialize-accessors.md`
- Comprehensive Arabic explanations of:
  - The `initialize` method (المُهيّئ) as constructor - called automatically with `new`
  - Default parameter values in initialize
  - The problem with manual getter/setter methods (repetitive code)
  - `attr_reader` for read-only access (creates getter methods)
  - `attr_writer` for write-only access (creates setter methods)
  - `attr_accessor` for read/write access (creates both getter and setter)
  - When to use each accessor type (reader for immutable data, writer for security, accessor for mutable data)
  - Custom setter methods with validation
  - Combining accessors with custom methods
- Practical examples: User account with mixed accessors, Car class, BankAccount with validation
- Common errors section: forgetting `:` before symbol, using `@` with accessors
- Summary comparison table of before/after using initialize and accessors
- Exercise: create Book class with attr_reader, attr_accessor, initialize, and progress method
- Added exercise configuration to course.json with hints
- All typechecks, lint pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/oop/initialize-accessors.md (new - lesson content)
- content/course.json (added exercise configuration for initialize-accessors lesson)

**Learnings for future iterations:**
- `initialize` is Ruby's constructor - called automatically when `.new` is invoked
- `attr_reader :name` creates `def name; @name; end` automatically
- `attr_writer :name` creates `def name=(value); @name = value; end` automatically
- `attr_accessor :name` creates both getter and setter
- Use attr_reader for immutable data (id, created_at), attr_writer for secrets (password), attr_accessor for normal mutable data
- Custom setters can be combined with accessors for validation logic
- This lesson builds on classes-objects by replacing manual set_/get_ methods with Ruby conventions

---

### 2026-01-24 - US-045: Lesson: Inheritance

**What was implemented:**
- Created Inheritance lesson at `/content/lessons/oop/inheritance.md`
- Comprehensive Arabic explanations of:
  - What is inheritance and why use it (الوراثة)
  - The `<` syntax for class inheritance: `class Child < Parent`
  - Method overriding (إعادة تعريف الدوال) to customize inherited behavior
  - Using `super` to call parent methods (with and without arguments)
  - Different forms of super: `super`, `super()`, `super(args)`
  - Checking inheritance with `is_a?`, `class`, `superclass`, `ancestors`
  - Single inheritance limitation in Ruby
- Practical examples: Animal hierarchy, Employee system, Geometric shapes
- Common errors: forgetting super in initialize, wrong super arguments, attempting multiple inheritance
- When to use inheritance ("is-a" relationship vs composition)
- Exercise: create Animal/Dog/Cat inheritance hierarchy with speak method override
- Added exercise configuration to course.json with hints
- All typechecks, lint, and build pass
- Browser verification confirmed: RTL layout, content rendering, code playground with exercise

**Files changed:**
- content/lessons/oop/inheritance.md (new - lesson content)
- content/course.json (added exercise configuration for inheritance lesson)

**Learnings for future iterations:**
- `super` without parentheses passes all arguments to parent method automatically
- `super()` with empty parentheses passes no arguments
- `super(specific_args)` passes only specified arguments
- Ruby only supports single inheritance - use Modules for multiple behavior sharing
- `is_a?` checks inheritance chain, `class == X` only checks direct class
- This completes the OOP section (classes-objects, initialize-accessors, inheritance)

---

## Current Story

(completed US-045, ready for next iteration)

## Notes

- Using Next.js 16.1.4, React 19.2.3, Tailwind 4.1.18
- Build and lint pass successfully
